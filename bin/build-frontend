#!/bin/bash
set -e

echo "📦 Building React frontend..."
cd frontend

# Install dependencies
echo "📦 Installing frontend dependencies..."
npm install

# Build the React app
echo "🔨 Building React app..."
npm run build

# Go back to root
cd ..

echo "📁 Build files are in Rails public directory!"
echo "✅ React build completed successfully!"

# List the generated files
echo "📋 Generated files in public/:"
ls -la public/*.html public/assets/ 2>/dev/null || echo "Build output ready"